# pooldemo

run demo:

```sh
tsc test.ts
node test.js
```

result:
```sh
% node test.js
===========  0  ========
Market price: 2000000 1000 2000
Market price after add: 4000000 2000 2000
sold: 10000 bought: 1501.2431514450232 at price 6.661146124379978 market price after swap: 8039.9297004499995
sold: 100000 bought: 12.099769032776635 at price 8264.620566649954 market price after swap 8444.69375445
sold: 100000 bought: 467.46494737515803 at price 213.9197827805178 market price after swap 5429796.39789845
===========  1  ========
Market price: 2000000 1000 2000
Market price after add: 4000000 2000 2000
sold: 10000 bought: 4.957724941970392 at price 2017.0542168129264 market price after swap: 2009.9824701124999
sold: 100000 bought: 48.2573987071487 at price 2072.2211034799584 market price after swap 2111.173170660706
sold: 100000 bought: 1.8569550073640841 at price 53851.600929172906 market price after swap 53580.391775142925
===========  2  ========
Market price: 2000000 1000 2000
Market price after add: 4000000 2000 2000
sold: 10000 bought: 4.9726057800931756 at price 2011.018054162464 market price after swap: 2009.9824251124999
sold: 100000 bought: 48.399076131106476 at price 2066.155141662491 market price after swap 2111.1734386125
sold: 100000 bought: 1.8623934039085128 at price 53694.34824572239 market price after swap 53584.53101078729
```
